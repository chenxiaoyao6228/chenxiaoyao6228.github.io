(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{618:function(t,a,s){"use strict";s.r(a);var e=s(7),v=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),s("p",[t._v("本文总结设备自适应相关的知识点.")]),t._v(" "),s("h2",{attrs:{id:"设备像素-device-pixel"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设备像素-device-pixel"}},[t._v("#")]),t._v(" 设备像素(Device Pixel)")]),t._v(" "),s("p",[t._v("一个"),s("strong",[t._v("设备像素点")]),t._v("是显示器(或者其他设备)上最小的物理显示单元。每个设备像素都可以通过一个红、绿、蓝三个子像素来显示颜色。")]),t._v(" "),s("p",[t._v("注意这是一个"),s("strong",[t._v("相对单位")]),t._v("，不同的设备像素的大小是不一样的(与显示技术有关，不同的显示技术（例如 LCD、OLED、LED 等）)，比如在 mac 上，一个设备像素的大小是 0.0213cm，而在 iphone6 上，一个设备像素的大小是 0.0018cm。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/chenxiaoyao6228/cloudimg@main/2023/device-pixel.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"屏幕分辨率"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#屏幕分辨率"}},[t._v("#")]),t._v(" 屏幕分辨率")]),t._v(" "),s("p",[t._v("分辨率可分为两类：(屏幕)设备分辨率和图像分辨率。")]),t._v(" "),s("p",[s("strong",[t._v("图像分辨率")]),t._v("：指的是图像的像素点个数，通常用水平像素数和垂直像素数来表示，比如一张 100x100px 的图片，它的图像分辨率就是 100x100px。")]),t._v(" "),s("p",[s("strong",[t._v("屏幕(设备)分辨率")]),t._v(", 适用于电子屏幕,设备分辨率反映了硬件设备处理图像时的效果是否细腻，指的是宽度上和高度上最多能显示的物理像素点个数。")]),t._v(" "),s("p",[t._v("举个例子，iPhone6 的"),s("code",[t._v("750x1334px")]),t._v("的分辨率的屏幕，意思是 iphone6 的屏幕有 750 个设备像素点在水平方向上，有 1334 个设备像素点在垂直方向上。")]),t._v(" "),s("p",[t._v("通常说的 4K 显示屏指的是 4096x2160px 的分辨率的屏幕。")]),t._v(" "),s("h3",{attrs:{id:"屏幕比例与屏幕分辨率"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#屏幕比例与屏幕分辨率"}},[t._v("#")]),t._v(" 屏幕比例与屏幕分辨率")]),t._v(" "),s("p",[t._v("这里提一下"),s("strong",[t._v("屏幕比例")]),t._v("，我们常说的 21:9, 16:9 可由分辨率来计算得出，计算方法是取最大公约数")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gcd")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gcd")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("比如上面的 4K 屏 4096x2160px 的分辨率的屏幕的屏幕比例为 4096/2160 = 1.89629，取最大公约数得 21:9, 之所以不用 7:3 是为了不同屏幕进行比较的时候更加直观。")]),t._v(" "),s("p",[t._v("比如 21:9 的屏幕和 16:9 的屏幕进行比较，21:9 的屏幕更宽一些。")]),t._v(" "),s("h2",{attrs:{id:"屏幕尺寸"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#屏幕尺寸"}},[t._v("#")]),t._v(" 屏幕尺寸")]),t._v(" "),s("p",[t._v("屏幕尺寸是指屏幕的对角线长度，单位是英寸(inch)。比如 iphone6 的屏幕尺寸是 4.7 英寸，mac 13 寸的笔记本的屏幕尺寸是 13.3 英寸。")]),t._v(" "),s("h2",{attrs:{id:"屏幕尺寸-分辨率-设备像素的关系"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#屏幕尺寸-分辨率-设备像素的关系"}},[t._v("#")]),t._v(" 屏幕尺寸，分辨率，设备像素的关系")]),t._v(" "),s("p",[s("strong",[t._v("相同分辨率下")]),t._v(": 较大的屏幕会将像素分布得更开，因此每个像素的实际尺寸会更大。相比之下，较小的屏幕会将像素分布得更紧密，每个像素的实际尺寸较小。")]),t._v(" "),s("p",[s("strong",[t._v("相同的屏幕尺寸下")]),t._v("：较高分辨率的屏幕会在同样的物理尺寸上拥有更多的像素，从而导致每个像素点的实际尺寸变小。比如 4.7 英寸的 iPhone6 像素尺寸为 750x1334px，而 4.7 英寸的 HTC One 像素尺寸为 1080x1920px")]),t._v(" "),s("p",[t._v("因此我们可以理解为什么手机的分辨率很高，因为手机屏幕很小，所以需要更高的分辨率才能让图像显示得更清晰。")]),t._v(" "),s("h2",{attrs:{id:"ppi-pixel-per-inch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ppi-pixel-per-inch"}},[t._v("#")]),t._v(" PPI(Pixel Per Inch)")]),t._v(" "),s("p",[t._v("屏幕像素密度， "),s("strong",[t._v("实际单位")]),t._v("， 即每英寸("),s("strong",[t._v("1 英寸=2.54 厘米")]),t._v(")聚集的像素点个数，这里的一英寸还是对角线长度")]),t._v(" "),s("p",[t._v("这里还需要提一下的是 "),s("strong",[t._v("DPI（Dots Per Inch）")]),t._v(", 两者的概念是一样的，只是运用在不同的领域：")]),t._v(" "),s("ul",[s("li",[t._v("DPI 通常用于打印机")]),t._v(" "),s("li",[t._v("PPI 通常用于屏幕。")])]),t._v(" "),s("h2",{attrs:{id:"换算关系"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#换算关系"}},[t._v("#")]),t._v(" 换算关系")]),t._v(" "),s("p",[t._v("分辨率、PPI（每英寸像素数）和屏幕尺寸之间可通过计算公式进行推算(ps: 就是简单的勾股定理而已):")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("计算像素总数：\n像素总数 = 水平像素数 × 垂直像素数")])]),t._v(" "),s("li",[s("p",[t._v("计算分辨率：\n分辨率 = 水平像素数 × 垂直像素数")])]),t._v(" "),s("li",[s("p",[t._v("计算 PPI：\nPPI = √(水平像素数^2 + 垂直像素数^2) / 屏幕对角线尺寸")])]),t._v(" "),s("li",[s("p",[t._v("计算屏幕尺寸：\n屏幕尺寸 = √(水平像素数^2 + 垂直像素数^2) / PPI")])])]),t._v(" "),s("p",[t._v("举几个实际的例子： 小米 12 的屏幕尺寸为 6.28 英寸，分辨率为 2400x1080px，那么它的 PPI 为 419。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/chenxiaoyao6228/cloudimg@main/2023/xiaomi-12-ppi.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"css-像素-逻辑像素"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css-像素-逻辑像素"}},[t._v("#")]),t._v(" CSS 像素(逻辑像素)")]),t._v(" "),s("p",[t._v("CSS 像素是一个"),s("strong",[t._v("相对单位")]),t._v("，它是一个抽象的单位，与设备无关，是为了让开发者在开发网页时更方便的使用单位而定义的。")]),t._v(" "),s("h2",{attrs:{id:"设备像素比-device-pixel-ratio-dpr"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设备像素比-device-pixel-ratio-dpr"}},[t._v("#")]),t._v(" 设备像素比（Device Pixel Ratio，DPR）")]),t._v(" "),s("p",[t._v("设备像素比（Device Pixel Ratio，DPR）是指在网页开发中，设备物理像素与 CSS 像素之间的比例关系。")]),t._v(" "),s("p",[t._v("如 iPhone5 使用的是 Retina 视网膜屏幕，用 2x2 的 Device Pixel 代表 1x1 的 CSS Pixel，所以设备像素数为 640x1136px，而 CSS 逻辑像素数为 320x568px。")]),t._v(" "),s("p",[t._v("dpi 可通过"),s("code",[t._v("window.devicePixelRatio")]),t._v("获取.")]),t._v(" "),s("h3",{attrs:{id:"dpr-与页面缩放的关系"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dpr-与页面缩放的关系"}},[t._v("#")]),t._v(" DPR 与页面缩放的关系")]),t._v(" "),s("p",[t._v("实际上，页面缩放并不会直接改变设备像素比 (DPR), 因为 DPR 通常是一个固定的设备属性，代表在特定设备上一个 CSS 像素需要由多少物理像素来呈现.")]),t._v(" "),s("p",[t._v("那为什么我们在页面缩放的时候可以看到"),s("code",[t._v("window.devicePixelRatio")]),t._v("的值发生变化呢？")]),t._v(" "),s("p",[t._v("比如在 DPR 为 2 的 mac 上将页面放大至 200%, 会发现 "),s("code",[t._v("window.devicePixelRatio")]),t._v(" 值变成了 4。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/chenxiaoyao6228/cloudimg@main/2023/dpr-with-page-scale.png",alt:""}})]),t._v(" "),s("p",[t._v("实际上， 当用户进行页面缩放时，浏览器可能会模拟更改了设备像素比（DPR）的效果。当用户放大页面时，浏览器会在一定程度上模拟更高的设备像素比，这样 CSS 像素就会被映射到更多的物理像素上，使得页面内容在视觉上变大。反之，当用户缩小页面时，浏览器会模拟较低的设备像素比，使得页面内容在视觉上变小。")]),t._v(" "),s("p",[t._v("这种模拟的效果让用户可以更改页面的显示大小，但实际上并没有改变设备的硬件属性。所以在页面缩放过程中，window.devicePixelRatio 的值会发生变化，但这不代表设备的实际像素比发生了改变，而只是浏览器为了实现缩放效果而做的模拟。")]),t._v(" "),s("h2",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),s("ul",[s("li",[t._v("https://juejin.cn/post/6918323869824909319")])])])}),[],!1,null,null,null);a.default=v.exports}}]);