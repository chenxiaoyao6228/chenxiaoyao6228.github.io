(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{620:function(t,a,s){"use strict";s.r(a);var n=s(7),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),s("p",[t._v("本文总结了字体排版相关的知识，对理解 CSS 与 Canvas 中的文字布局有一定帮助。")]),t._v(" "),s("h2",{attrs:{id:"font-size-100px的作用范围"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#font-size-100px的作用范围"}},[t._v("#")]),t._v(" font-size:100px的作用范围")]),t._v(" "),s("p",[t._v("有这段 HTML")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("xfg"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("xfg"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("xfg"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("与以下 CSS 代码")]),t._v(" "),s("div",{staticClass:"language-css line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("span")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-size")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Helvetica"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".b")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Cursive"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".c")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Fantasy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("p",[t._v("经过元素审查可以发现，在不同的字体下， font-size: 100px 的文字高度是不一样的。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/chenxiaoyao6228/cloudimg@main/2023/css-100-content-area.gif",alt:""}})]),t._v(" "),s("p",[t._v("完整的 demo 请看 👉 "),s("a",{attrs:{href:"https://chenxiaoyao6228.github.io/html-preview/?https://github.com/chenxiaoyao6228/fe-notes/blob/main/HTML_CSS/_demo/css-text/content-area.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("在线效果预览"),s("OutboundLink")],1),t._v(", 查看示例代码请点击"),s("RouterLink",{attrs:{to:"/docs/HTML_CSS/_demo/css-text/content-area.html"}},[t._v("此处")]),t._v("(ps: 你的电脑上不一定有这几款字体)")],1),t._v(" "),s("h2",{attrs:{id:"字体设计师是如何设计字体的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#字体设计师是如何设计字体的"}},[t._v("#")]),t._v(" 字体设计师是如何设计字体的")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/chenxiaoyao6228/cloudimg@main/2023/font-forge-metrics.png",alt:""}})]),t._v(" "),s("blockquote",[s("p",[t._v("FontForge 中的字体度量")])]),t._v(" "),s("p",[t._v("设计师在设计字体的时候是在 1000 个相对单位（relative units）的 em-square(也有 1024 和 2048 的)上进行操作的。")]),t._v(" "),s("p",[t._v('在"FontForge" 或其他字体设计软件中，涉及字体度量的概念包括：')]),t._v(" "),s("ul",[s("li",[s("p",[t._v("X-Height（x-高度）：x-高度是指小写字母 x 的主体部分（不包括上部分的上升部分）与基线之间的距离。")])]),t._v(" "),s("li",[s("p",[t._v("Baseline（基线）：字母放置的水平线。")])]),t._v(" "),s("li",[s("p",[t._v('Ascent/Ascender（字体上升高度）：Ascender 是字符的上部延伸部分，通常包括一些字母的顶部，如 "h"、"b"、"d" 等。它指的是从 baseline 到字符顶部的高度范围。')])]),t._v(" "),s("li",[s("p",[t._v('Descent/Descenter（字体下降高度）：Descender 是字符的下部延伸部分，通常包括一些字母的底部，如 "g"、"p"、"q" 等。它指的是从 baseline 到字符底部的高度范围。')])]),t._v(" "),s("li",[s("p",[t._v("Typo Line Gap（字体行间距）：它是指 Ascent 和 Descent 之间的空间，不包括字符的实际高度。行间距用于控制行与行之间的垂直间距。")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/chenxiaoyao6228/cloudimg@main/2023/typography-term.png",alt:""}})]),t._v(" "),s("p",[t._v("回到上面的问题，为什么font-size: 100px 的文字高度是不一样的?")]),t._v(" "),s("p",[t._v("Catamaran 字体占据了 1100 + 540 个相对单位，尽管它的 em-square 只有 1000 个相对单位，")]),t._v(" "),s("p",[t._v("所以当我们设置 font-size:100px 时，这个字体里的文字高度是 164px。这个计算出来的高度决定了 HTML 元素的 content-area（内容区域）")]),t._v(" "),s("h2",{attrs:{id:"line-height-与-linegap"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#line-height-与-linegap"}},[t._v("#")]),t._v(" line-height 与 lineGap")]),t._v(" "),s("p",[t._v("line-height 和 line-gap 都与文本的行高有关，但它们在概念上有一些区别。")]),t._v(" "),s("ol",[s("li",[t._v("line-height（行高）：")])]),t._v(" "),s("ul",[s("li",[t._v("line-height 是 CSS 属性，用于控制行内元素中每一行的高度。它可以使用相对单位（如倍数、百分比）或绝对单位（像素）来设置。例如，line-height: 1.5 表示行高为字体大小的 1.5 倍。")]),t._v(" "),s("li",[t._v("line-height 影响到行内元素中文本的排布，包括文本的上升部分、下降部分和行间距。它还可以在元素中心垂直对齐行内内容。")])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("line-gap（行间距）：")])]),t._v(" "),s("p",[t._v('line-gap 是一个相对的度量值，通常是指字体度量中的 "line gap"，它是字符顶部到下一个行的字符底部之间的垂直间隔。它通常用于计算行高的一部分，以确定行与行之间的距离，从而实现一致的排版效果。在字体度量中，"line gap" 是字符的上升部分和下降部分之间的空白区域，用于分隔行与行之间的垂直空间')]),t._v(" "),s("h3",{attrs:{id:"line-height-normal"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#line-height-normal"}},[t._v("#")]),t._v(" line-height: normal")]),t._v(" "),s("p",[t._v("文字在设置了 line-height: normal 时，行高的取值则为 content-area + line-gap，即文本实际撑起来的高度。")]),t._v(" "),s("h2",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://iamvdo.me/en/blog/css-font-metrics-line-height-and-vertical-align",target:"_blank",rel:"noopener noreferrer"}},[t._v("Deep dive CSS: font metrics, line-height and vertical-align"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/29728703",target:"_blank",rel:"noopener noreferrer"}},[t._v("深度剖析Baseline设计原理 "),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://juejin.cn/post/6870293447300317192",target:"_blank",rel:"noopener noreferrer"}},[t._v("字体构造与文字垂直居中方案探索"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);