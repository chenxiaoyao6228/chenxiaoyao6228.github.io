(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{621:function(t,s,a){"use strict";a.r(s);var n=a(7),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("p",[t._v("焦点作为页面交互中的重要一环，涉及到的知识点也比较多，有必要做一个统一的总结。")]),t._v(" "),a("h2",{attrs:{id:"html-中的可获取焦点的元素"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html-中的可获取焦点的元素"}},[t._v("#")]),t._v(" HTML 中的可获取焦点的元素")]),t._v(" "),a("ul",[a("li",[t._v("具有 href 属性的 HTMLAnchorElement/HTMLAreaElement")]),t._v(" "),a("li",[t._v("非禁用态的 HTMLInputElement/HTMLSelectElement/HTMLTextAreaElement/HTMLButtonElement")]),t._v(" "),a("li",[t._v("HTMLIFrameElement（虽然将其聚焦没有任何有用的效果）")]),t._v(" "),a("li",[t._v("具有 tabindex 属性的任何元素。")])]),t._v(" "),a("h2",{attrs:{id:"焦点的获取"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#焦点的获取"}},[t._v("#")]),t._v(" 焦点的获取")]),t._v(" "),a("p",[t._v("HTML 规范中将 focus 聚焦性分为三种类型：“编程可聚焦”、“单击可聚焦”和“顺序可聚焦”。")]),t._v(" "),a("ul",[a("li",[t._v("document 加载完成会获取到焦点")]),t._v(" "),a("li",[t._v("用户点击获取焦点")]),t._v(" "),a("li",[t._v("通过 js 的 element.focus()方法获取")]),t._v(" "),a("li",[t._v("添加了 tabindex 的元素可通过 tab 切换获取焦点")])]),t._v(" "),a("p",[t._v("其中，元素上 tabindex 的值设置有一定的考究:")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/chenxiaoyao6228/cloudimg@main/2023/html-focus-1.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"css-中的焦点伪类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css-中的焦点伪类"}},[t._v("#")]),t._v(" CSS 中的焦点伪类")]),t._v(" "),a("p",[t._v("这里提一下, 聚焦的元素可以通过 css 中的:focus 与:focus-within 伪类来进行样式调整.")]),t._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 元素获取焦点时的样式 */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("input:focus")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("border-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #ff5733"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("outline")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 容器内有元素获得焦点时的样式 */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".container:focus-within")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #f0f0f0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("p",[t._v("👉 "),a("a",{attrs:{href:"https://chenxiaoyao6228.github.io/html-preview/?https://github.com/chenxiaoyao6228/fe-notes/blob/main/%E6%96%87%E6%9C%AC%E8%BE%93%E5%85%A5/_demo/focus-manament/focus.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("在线效果预览"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"js-获取当前聚焦元素"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#js-获取当前聚焦元素"}},[t._v("#")]),t._v(" JS 获取当前聚焦元素")]),t._v(" "),a("ul",[a("li",[t._v("document.hasFocus(): 判断当前文档是否被聚焦")]),t._v(" "),a("li",[t._v("document.activeElement: 获取当前文档内的聚焦元素")])]),t._v(" "),a("h2",{attrs:{id:"失去焦点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#失去焦点"}},[t._v("#")]),t._v(" 失去焦点")]),t._v(" "),a("p",[t._v("blur()方法的作用是从元素中移走焦点。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("调用 blur()方法时，并不会把焦点转移到某个特定的元素上；仅仅是将焦点从调用这个方法的元素上面移走而已")])]),t._v(" "),a("li",[a("p",[t._v("focus 了 A 元素的时候其他元素会自动失去焦点")])])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#btn1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"click"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#div1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("focus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#btn2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"click"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#div1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("blur")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("h2",{attrs:{id:"焦点事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#焦点事件"}},[t._v("#")]),t._v(" 焦点事件")]),t._v(" "),a("p",[t._v("不会冒泡的事件: focus, blur\n会冒泡的事件： focus-in, focus-out")]),t._v(" "),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://blog.whatwg.org/focusing-on-focus",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTML 规范: focusing-on-focus"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://html.spec.whatwg.org/multipage/interaction.html#dom-focus-dev",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTML 规范:dom-focus-dev"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://stackoverflow.com/questions/1599660/which-html-elements-can-receive-focus",target:"_blank",rel:"noopener noreferrer"}},[t._v("which-html-elements-can-receive-focus"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Element/focus_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("focus_event"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/Accessibility/Keyboard-navigable_JavaScript_widgets",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN: Tabindex, 键盘导航的 JavaScript 组件"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("https://segmentfault.com/a/1190000003942014")])])])}),[],!1,null,null,null);s.default=e.exports}}]);